{%- if context %}
  {%- if context.componentClasses %}
    {%- set componentClasses = context.componentClasses %}
  {%- endif %}
  {%- if not context.overlay %}
    {%- set overlay = false %}
  {%- else %}
    {%- set overlay = context.overlay %}
  {%- endif -%}
  {%- if not context.interactive %}
    {%- set interactive = false %}
  {%- else %}
    {%- set interactive = context.interactive %}
  {%- endif -%}
  {%- set image = context.image %}
  {%- if context.image and not context.image.position %}
    {%- set imagePos = 'top' %}
    {%- if overlay %}
      {%- set imagePos = 'overlay' %}
    {%- endif %}
  {%- else %}
    {%- set imagePos = context.image.position %}
  {%- endif %}
  {%- set children = context.children %}
{%- endif %}

<div class="
    company-card
    {%- if interactive %}
    company-card--interactive
    {%- endif %}
    {%- if componentClasses %}
    {{ componentClasses | join(" ") | safe }}
    {%- endif %}
  ">
  <div class="company-card__header">
    {%- if image.link %}
      <a class="" href="{{ image.link | url | safe }}">
    {%- endif %}
    {%- if image.url %}
      <img 
        src="
        {%-
          imageUrl image.url, { 
            crop: 'pad',
            width: image.width,
            height: image.height,
            quality: 'auto',
            fetch: 'auto'
        } %}"
        srcset="
        {%-
          imageUrl image.url, { 
            crop: 'pad',
            width: image.width',
            height: image.height,
            dpr: 2,
            quality: 'auto',
            fetch: 'auto'
          } 
        %} 2x"
        width="{{ image.width | e | safe }}"
        height="{{ image.height | e | safe }}"
        loading="lazy"
        class="company-card__img company-card__img--{{ imagePos | e | safe }}"
        alt="{{ image.alt | e | safe }}"
        title="{{ image.title | e | safe }}"
      >
    {%- endif %}
    {%- if image.link %}
      </a>
    {%- endif %}
  </div>
  <div class="
    company-card__body
    {%- if overlay %}
    company-card__body--overlay
    {%- endif %}
  ">
    {{ children | safe }}
  </div>
</div>