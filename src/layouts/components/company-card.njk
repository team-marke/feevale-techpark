{%- if context %}
  {%- if context.componentClasses %}
    {%- set componentClasses = context.componentClasses %}
  {%- endif %}
  {%- if context.image %}
    {%- set image = context.image %}
  {%- endif %}
  {%- set children = context.children %}
{%- endif %}

<div class="
    company-card
    {%- if componentClasses %}
    {{ componentClasses | join(" ") | safe }}
    {%- endif %}
  ">
  <div class="company-card__header">
    {%- if image.link %}
      <a class="" href="{{ image.link | url | safe }}">
    {%- endif %}
    {%- if image.url %}
      <img 
        src="
        {%-
          imageUrl image.url, { 
            crop: 'pad',
            width: image.width,
            height: image.height,
            quality: 'auto',
            fetch: 'auto'
        } %}"
        srcset="
        {%-
          imageUrl image.url, { 
            crop: 'pad',
            width: image.width',
            height: image.height,
            dpr: 2,
            quality: 'auto',
            fetch: 'auto'
          } 
        %} 2x"
        width="{{ image.width | e | safe }}"
        height="{{ image.height | e | safe }}"
        loading="lazy"
        class="company-card__img"
        alt="{{ image.alt | e | safe }}"
        title="{{ image.title | e | safe }}"
      >
    {%- endif %}
    {%- if image.link %}
      </a>
    {%- endif %}
  </div>
  <div class="company-card__body">
    {{ children | safe }}
  </div>
</div>